// ==============================================================
// File generated by AutoESL - High-Level Synthesis System (C, C++, SystemC)
// Version: 2011.1
// Copyright (C) 2011 Xilinx Inc. All rights reserved.
// 
// ==============================================================



`timescale 1 ns / 1 ps




module SURFdescriptor_DY_core (q, ra, ce, clk
, d, wa, we);
   parameter READ_PORT_COUNT=32'd1;
   parameter WRITE_PORT_COUNT=32'd1;
   parameter DATA_WIDTH=32'd32;
   parameter ADDRESS_WIDTH=32'd9;
   parameter WORD_COUNT=32'd400;

   output [READ_PORT_COUNT*DATA_WIDTH-1:0] q;
   input [READ_PORT_COUNT*ADDRESS_WIDTH-1:0]  ra;
   input [READ_PORT_COUNT-1:0]  ce;
   input [WRITE_PORT_COUNT*DATA_WIDTH-1:0] d;
   input [WRITE_PORT_COUNT*ADDRESS_WIDTH-1:0] wa;
   input [WRITE_PORT_COUNT-1:0]               we;
   input                                      clk;

   integer                                    i,j,k;

   reg [DATA_WIDTH-1:0]                       mem [0:WORD_COUNT-1];
   reg [ADDRESS_WIDTH-1:0]                    rat;
   reg [ADDRESS_WIDTH-1:0]                    rai [READ_PORT_COUNT-1:0];
   reg [ADDRESS_WIDTH-1:0]                    rai_reg [READ_PORT_COUNT-1:0];
   reg [READ_PORT_COUNT*DATA_WIDTH-1:0]       qi;
   reg [DATA_WIDTH-1:0]                       qt;
   reg [DATA_WIDTH-1:0]                       di [WRITE_PORT_COUNT-1:0];
   reg [DATA_WIDTH-1:0]                       dt;
   reg [ADDRESS_WIDTH-1:0]                    wat;
   reg [ADDRESS_WIDTH-1:0]                    wai [WRITE_PORT_COUNT-1:0];


   initial begin
        mem[0] = 32'b00000000000000000000000000000000;
        mem[1] = 32'b00000000000000000000000000000000;
        mem[2] = 32'b00000000000000000000000000000000;
        mem[3] = 32'b00000000000000000000000000000000;
        mem[4] = 32'b00000000000000000000000000000000;
        mem[5] = 32'b00000000000000000000000000000000;
        mem[6] = 32'b00000000000000000000000000000000;
        mem[7] = 32'b00000000000000000000000000000000;
        mem[8] = 32'b00000000000000000000000000000000;
        mem[9] = 32'b00000000000000000000000000000000;
        mem[10] = 32'b00000000000000000000000000000000;
        mem[11] = 32'b00000000000000000000000000000000;
        mem[12] = 32'b00000000000000000000000000000000;
        mem[13] = 32'b00000000000000000000000000000000;
        mem[14] = 32'b00000000000000000000000000000000;
        mem[15] = 32'b00000000000000000000000000000000;
        mem[16] = 32'b00000000000000000000000000000000;
        mem[17] = 32'b00000000000000000000000000000000;
        mem[18] = 32'b00000000000000000000000000000000;
        mem[19] = 32'b00000000000000000000000000000000;
        mem[20] = 32'b00000000000000000000000000000000;
        mem[21] = 32'b00000000000000000000000000000000;
        mem[22] = 32'b00000000000000000000000000000000;
        mem[23] = 32'b00000000000000000000000000000000;
        mem[24] = 32'b00000000000000000000000000000000;
        mem[25] = 32'b00000000000000000000000000000000;
        mem[26] = 32'b00000000000000000000000000000000;
        mem[27] = 32'b00000000000000000000000000000000;
        mem[28] = 32'b00000000000000000000000000000000;
        mem[29] = 32'b00000000000000000000000000000000;
        mem[30] = 32'b00000000000000000000000000000000;
        mem[31] = 32'b00000000000000000000000000000000;
        mem[32] = 32'b00000000000000000000000000000000;
        mem[33] = 32'b00000000000000000000000000000000;
        mem[34] = 32'b00000000000000000000000000000000;
        mem[35] = 32'b00000000000000000000000000000000;
        mem[36] = 32'b00000000000000000000000000000000;
        mem[37] = 32'b00000000000000000000000000000000;
        mem[38] = 32'b00000000000000000000000000000000;
        mem[39] = 32'b00000000000000000000000000000000;
        mem[40] = 32'b00000000000000000000000000000000;
        mem[41] = 32'b00000000000000000000000000000000;
        mem[42] = 32'b00000000000000000000000000000000;
        mem[43] = 32'b00000000000000000000000000000000;
        mem[44] = 32'b00000000000000000000000000000000;
        mem[45] = 32'b00000000000000000000000000000000;
        mem[46] = 32'b00000000000000000000000000000000;
        mem[47] = 32'b00000000000000000000000000000000;
        mem[48] = 32'b00000000000000000000000000000000;
        mem[49] = 32'b00000000000000000000000000000000;
        mem[50] = 32'b00000000000000000000000000000000;
        mem[51] = 32'b00000000000000000000000000000000;
        mem[52] = 32'b00000000000000000000000000000000;
        mem[53] = 32'b00000000000000000000000000000000;
        mem[54] = 32'b00000000000000000000000000000000;
        mem[55] = 32'b00000000000000000000000000000000;
        mem[56] = 32'b00000000000000000000000000000000;
        mem[57] = 32'b00000000000000000000000000000000;
        mem[58] = 32'b00000000000000000000000000000000;
        mem[59] = 32'b00000000000000000000000000000000;
        mem[60] = 32'b00000000000000000000000000000000;
        mem[61] = 32'b00000000000000000000000000000000;
        mem[62] = 32'b00000000000000000000000000000000;
        mem[63] = 32'b00000000000000000000000000000000;
        mem[64] = 32'b00000000000000000000000000000000;
        mem[65] = 32'b00000000000000000000000000000000;
        mem[66] = 32'b00000000000000000000000000000000;
        mem[67] = 32'b00000000000000000000000000000000;
        mem[68] = 32'b00000000000000000000000000000000;
        mem[69] = 32'b00000000000000000000000000000000;
        mem[70] = 32'b00000000000000000000000000000000;
        mem[71] = 32'b00000000000000000000000000000000;
        mem[72] = 32'b00000000000000000000000000000000;
        mem[73] = 32'b00000000000000000000000000000000;
        mem[74] = 32'b00000000000000000000000000000000;
        mem[75] = 32'b00000000000000000000000000000000;
        mem[76] = 32'b00000000000000000000000000000000;
        mem[77] = 32'b00000000000000000000000000000000;
        mem[78] = 32'b00000000000000000000000000000000;
        mem[79] = 32'b00000000000000000000000000000000;
        mem[80] = 32'b00000000000000000000000000000000;
        mem[81] = 32'b00000000000000000000000000000000;
        mem[82] = 32'b00000000000000000000000000000000;
        mem[83] = 32'b00000000000000000000000000000000;
        mem[84] = 32'b00000000000000000000000000000000;
        mem[85] = 32'b00000000000000000000000000000000;
        mem[86] = 32'b00000000000000000000000000000000;
        mem[87] = 32'b00000000000000000000000000000000;
        mem[88] = 32'b00000000000000000000000000000000;
        mem[89] = 32'b00000000000000000000000000000000;
        mem[90] = 32'b00000000000000000000000000000000;
        mem[91] = 32'b00000000000000000000000000000000;
        mem[92] = 32'b00000000000000000000000000000000;
        mem[93] = 32'b00000000000000000000000000000000;
        mem[94] = 32'b00000000000000000000000000000000;
        mem[95] = 32'b00000000000000000000000000000000;
        mem[96] = 32'b00000000000000000000000000000000;
        mem[97] = 32'b00000000000000000000000000000000;
        mem[98] = 32'b00000000000000000000000000000000;
        mem[99] = 32'b00000000000000000000000000000000;
        mem[100] = 32'b00000000000000000000000000000000;
        mem[101] = 32'b00000000000000000000000000000000;
        mem[102] = 32'b00000000000000000000000000000000;
        mem[103] = 32'b00000000000000000000000000000000;
        mem[104] = 32'b00000000000000000000000000000000;
        mem[105] = 32'b00000000000000000000000000000000;
        mem[106] = 32'b00000000000000000000000000000000;
        mem[107] = 32'b00000000000000000000000000000000;
        mem[108] = 32'b00000000000000000000000000000000;
        mem[109] = 32'b00000000000000000000000000000000;
        mem[110] = 32'b00000000000000000000000000000000;
        mem[111] = 32'b00000000000000000000000000000000;
        mem[112] = 32'b00000000000000000000000000000000;
        mem[113] = 32'b00000000000000000000000000000000;
        mem[114] = 32'b00000000000000000000000000000000;
        mem[115] = 32'b00000000000000000000000000000000;
        mem[116] = 32'b00000000000000000000000000000000;
        mem[117] = 32'b00000000000000000000000000000000;
        mem[118] = 32'b00000000000000000000000000000000;
        mem[119] = 32'b00000000000000000000000000000000;
        mem[120] = 32'b00000000000000000000000000000000;
        mem[121] = 32'b00000000000000000000000000000000;
        mem[122] = 32'b00000000000000000000000000000000;
        mem[123] = 32'b00000000000000000000000000000000;
        mem[124] = 32'b00000000000000000000000000000000;
        mem[125] = 32'b00000000000000000000000000000000;
        mem[126] = 32'b00000000000000000000000000000000;
        mem[127] = 32'b00000000000000000000000000000000;
        mem[128] = 32'b00000000000000000000000000000000;
        mem[129] = 32'b00000000000000000000000000000000;
        mem[130] = 32'b00000000000000000000000000000000;
        mem[131] = 32'b00000000000000000000000000000000;
        mem[132] = 32'b00000000000000000000000000000000;
        mem[133] = 32'b00000000000000000000000000000000;
        mem[134] = 32'b00000000000000000000000000000000;
        mem[135] = 32'b00000000000000000000000000000000;
        mem[136] = 32'b00000000000000000000000000000000;
        mem[137] = 32'b00000000000000000000000000000000;
        mem[138] = 32'b00000000000000000000000000000000;
        mem[139] = 32'b00000000000000000000000000000000;
        mem[140] = 32'b00000000000000000000000000000000;
        mem[141] = 32'b00000000000000000000000000000000;
        mem[142] = 32'b00000000000000000000000000000000;
        mem[143] = 32'b00000000000000000000000000000000;
        mem[144] = 32'b00000000000000000000000000000000;
        mem[145] = 32'b00000000000000000000000000000000;
        mem[146] = 32'b00000000000000000000000000000000;
        mem[147] = 32'b00000000000000000000000000000000;
        mem[148] = 32'b00000000000000000000000000000000;
        mem[149] = 32'b00000000000000000000000000000000;
        mem[150] = 32'b00000000000000000000000000000000;
        mem[151] = 32'b00000000000000000000000000000000;
        mem[152] = 32'b00000000000000000000000000000000;
        mem[153] = 32'b00000000000000000000000000000000;
        mem[154] = 32'b00000000000000000000000000000000;
        mem[155] = 32'b00000000000000000000000000000000;
        mem[156] = 32'b00000000000000000000000000000000;
        mem[157] = 32'b00000000000000000000000000000000;
        mem[158] = 32'b00000000000000000000000000000000;
        mem[159] = 32'b00000000000000000000000000000000;
        mem[160] = 32'b00000000000000000000000000000000;
        mem[161] = 32'b00000000000000000000000000000000;
        mem[162] = 32'b00000000000000000000000000000000;
        mem[163] = 32'b00000000000000000000000000000000;
        mem[164] = 32'b00000000000000000000000000000000;
        mem[165] = 32'b00000000000000000000000000000000;
        mem[166] = 32'b00000000000000000000000000000000;
        mem[167] = 32'b00000000000000000000000000000000;
        mem[168] = 32'b00000000000000000000000000000000;
        mem[169] = 32'b00000000000000000000000000000000;
        mem[170] = 32'b00000000000000000000000000000000;
        mem[171] = 32'b00000000000000000000000000000000;
        mem[172] = 32'b00000000000000000000000000000000;
        mem[173] = 32'b00000000000000000000000000000000;
        mem[174] = 32'b00000000000000000000000000000000;
        mem[175] = 32'b00000000000000000000000000000000;
        mem[176] = 32'b00000000000000000000000000000000;
        mem[177] = 32'b00000000000000000000000000000000;
        mem[178] = 32'b00000000000000000000000000000000;
        mem[179] = 32'b00000000000000000000000000000000;
        mem[180] = 32'b00000000000000000000000000000000;
        mem[181] = 32'b00000000000000000000000000000000;
        mem[182] = 32'b00000000000000000000000000000000;
        mem[183] = 32'b00000000000000000000000000000000;
        mem[184] = 32'b00000000000000000000000000000000;
        mem[185] = 32'b00000000000000000000000000000000;
        mem[186] = 32'b00000000000000000000000000000000;
        mem[187] = 32'b00000000000000000000000000000000;
        mem[188] = 32'b00000000000000000000000000000000;
        mem[189] = 32'b00000000000000000000000000000000;
        mem[190] = 32'b00000000000000000000000000000000;
        mem[191] = 32'b00000000000000000000000000000000;
        mem[192] = 32'b00000000000000000000000000000000;
        mem[193] = 32'b00000000000000000000000000000000;
        mem[194] = 32'b00000000000000000000000000000000;
        mem[195] = 32'b00000000000000000000000000000000;
        mem[196] = 32'b00000000000000000000000000000000;
        mem[197] = 32'b00000000000000000000000000000000;
        mem[198] = 32'b00000000000000000000000000000000;
        mem[199] = 32'b00000000000000000000000000000000;
        mem[200] = 32'b00000000000000000000000000000000;
        mem[201] = 32'b00000000000000000000000000000000;
        mem[202] = 32'b00000000000000000000000000000000;
        mem[203] = 32'b00000000000000000000000000000000;
        mem[204] = 32'b00000000000000000000000000000000;
        mem[205] = 32'b00000000000000000000000000000000;
        mem[206] = 32'b00000000000000000000000000000000;
        mem[207] = 32'b00000000000000000000000000000000;
        mem[208] = 32'b00000000000000000000000000000000;
        mem[209] = 32'b00000000000000000000000000000000;
        mem[210] = 32'b00000000000000000000000000000000;
        mem[211] = 32'b00000000000000000000000000000000;
        mem[212] = 32'b00000000000000000000000000000000;
        mem[213] = 32'b00000000000000000000000000000000;
        mem[214] = 32'b00000000000000000000000000000000;
        mem[215] = 32'b00000000000000000000000000000000;
        mem[216] = 32'b00000000000000000000000000000000;
        mem[217] = 32'b00000000000000000000000000000000;
        mem[218] = 32'b00000000000000000000000000000000;
        mem[219] = 32'b00000000000000000000000000000000;
        mem[220] = 32'b00000000000000000000000000000000;
        mem[221] = 32'b00000000000000000000000000000000;
        mem[222] = 32'b00000000000000000000000000000000;
        mem[223] = 32'b00000000000000000000000000000000;
        mem[224] = 32'b00000000000000000000000000000000;
        mem[225] = 32'b00000000000000000000000000000000;
        mem[226] = 32'b00000000000000000000000000000000;
        mem[227] = 32'b00000000000000000000000000000000;
        mem[228] = 32'b00000000000000000000000000000000;
        mem[229] = 32'b00000000000000000000000000000000;
        mem[230] = 32'b00000000000000000000000000000000;
        mem[231] = 32'b00000000000000000000000000000000;
        mem[232] = 32'b00000000000000000000000000000000;
        mem[233] = 32'b00000000000000000000000000000000;
        mem[234] = 32'b00000000000000000000000000000000;
        mem[235] = 32'b00000000000000000000000000000000;
        mem[236] = 32'b00000000000000000000000000000000;
        mem[237] = 32'b00000000000000000000000000000000;
        mem[238] = 32'b00000000000000000000000000000000;
        mem[239] = 32'b00000000000000000000000000000000;
        mem[240] = 32'b00000000000000000000000000000000;
        mem[241] = 32'b00000000000000000000000000000000;
        mem[242] = 32'b00000000000000000000000000000000;
        mem[243] = 32'b00000000000000000000000000000000;
        mem[244] = 32'b00000000000000000000000000000000;
        mem[245] = 32'b00000000000000000000000000000000;
        mem[246] = 32'b00000000000000000000000000000000;
        mem[247] = 32'b00000000000000000000000000000000;
        mem[248] = 32'b00000000000000000000000000000000;
        mem[249] = 32'b00000000000000000000000000000000;
        mem[250] = 32'b00000000000000000000000000000000;
        mem[251] = 32'b00000000000000000000000000000000;
        mem[252] = 32'b00000000000000000000000000000000;
        mem[253] = 32'b00000000000000000000000000000000;
        mem[254] = 32'b00000000000000000000000000000000;
        mem[255] = 32'b00000000000000000000000000000000;
        mem[256] = 32'b00000000000000000000000000000000;
        mem[257] = 32'b00000000000000000000000000000000;
        mem[258] = 32'b00000000000000000000000000000000;
        mem[259] = 32'b00000000000000000000000000000000;
        mem[260] = 32'b00000000000000000000000000000000;
        mem[261] = 32'b00000000000000000000000000000000;
        mem[262] = 32'b00000000000000000000000000000000;
        mem[263] = 32'b00000000000000000000000000000000;
        mem[264] = 32'b00000000000000000000000000000000;
        mem[265] = 32'b00000000000000000000000000000000;
        mem[266] = 32'b00000000000000000000000000000000;
        mem[267] = 32'b00000000000000000000000000000000;
        mem[268] = 32'b00000000000000000000000000000000;
        mem[269] = 32'b00000000000000000000000000000000;
        mem[270] = 32'b00000000000000000000000000000000;
        mem[271] = 32'b00000000000000000000000000000000;
        mem[272] = 32'b00000000000000000000000000000000;
        mem[273] = 32'b00000000000000000000000000000000;
        mem[274] = 32'b00000000000000000000000000000000;
        mem[275] = 32'b00000000000000000000000000000000;
        mem[276] = 32'b00000000000000000000000000000000;
        mem[277] = 32'b00000000000000000000000000000000;
        mem[278] = 32'b00000000000000000000000000000000;
        mem[279] = 32'b00000000000000000000000000000000;
        mem[280] = 32'b00000000000000000000000000000000;
        mem[281] = 32'b00000000000000000000000000000000;
        mem[282] = 32'b00000000000000000000000000000000;
        mem[283] = 32'b00000000000000000000000000000000;
        mem[284] = 32'b00000000000000000000000000000000;
        mem[285] = 32'b00000000000000000000000000000000;
        mem[286] = 32'b00000000000000000000000000000000;
        mem[287] = 32'b00000000000000000000000000000000;
        mem[288] = 32'b00000000000000000000000000000000;
        mem[289] = 32'b00000000000000000000000000000000;
        mem[290] = 32'b00000000000000000000000000000000;
        mem[291] = 32'b00000000000000000000000000000000;
        mem[292] = 32'b00000000000000000000000000000000;
        mem[293] = 32'b00000000000000000000000000000000;
        mem[294] = 32'b00000000000000000000000000000000;
        mem[295] = 32'b00000000000000000000000000000000;
        mem[296] = 32'b00000000000000000000000000000000;
        mem[297] = 32'b00000000000000000000000000000000;
        mem[298] = 32'b00000000000000000000000000000000;
        mem[299] = 32'b00000000000000000000000000000000;
        mem[300] = 32'b00000000000000000000000000000000;
        mem[301] = 32'b00000000000000000000000000000000;
        mem[302] = 32'b00000000000000000000000000000000;
        mem[303] = 32'b00000000000000000000000000000000;
        mem[304] = 32'b00000000000000000000000000000000;
        mem[305] = 32'b00000000000000000000000000000000;
        mem[306] = 32'b00000000000000000000000000000000;
        mem[307] = 32'b00000000000000000000000000000000;
        mem[308] = 32'b00000000000000000000000000000000;
        mem[309] = 32'b00000000000000000000000000000000;
        mem[310] = 32'b00000000000000000000000000000000;
        mem[311] = 32'b00000000000000000000000000000000;
        mem[312] = 32'b00000000000000000000000000000000;
        mem[313] = 32'b00000000000000000000000000000000;
        mem[314] = 32'b00000000000000000000000000000000;
        mem[315] = 32'b00000000000000000000000000000000;
        mem[316] = 32'b00000000000000000000000000000000;
        mem[317] = 32'b00000000000000000000000000000000;
        mem[318] = 32'b00000000000000000000000000000000;
        mem[319] = 32'b00000000000000000000000000000000;
        mem[320] = 32'b00000000000000000000000000000000;
        mem[321] = 32'b00000000000000000000000000000000;
        mem[322] = 32'b00000000000000000000000000000000;
        mem[323] = 32'b00000000000000000000000000000000;
        mem[324] = 32'b00000000000000000000000000000000;
        mem[325] = 32'b00000000000000000000000000000000;
        mem[326] = 32'b00000000000000000000000000000000;
        mem[327] = 32'b00000000000000000000000000000000;
        mem[328] = 32'b00000000000000000000000000000000;
        mem[329] = 32'b00000000000000000000000000000000;
        mem[330] = 32'b00000000000000000000000000000000;
        mem[331] = 32'b00000000000000000000000000000000;
        mem[332] = 32'b00000000000000000000000000000000;
        mem[333] = 32'b00000000000000000000000000000000;
        mem[334] = 32'b00000000000000000000000000000000;
        mem[335] = 32'b00000000000000000000000000000000;
        mem[336] = 32'b00000000000000000000000000000000;
        mem[337] = 32'b00000000000000000000000000000000;
        mem[338] = 32'b00000000000000000000000000000000;
        mem[339] = 32'b00000000000000000000000000000000;
        mem[340] = 32'b00000000000000000000000000000000;
        mem[341] = 32'b00000000000000000000000000000000;
        mem[342] = 32'b00000000000000000000000000000000;
        mem[343] = 32'b00000000000000000000000000000000;
        mem[344] = 32'b00000000000000000000000000000000;
        mem[345] = 32'b00000000000000000000000000000000;
        mem[346] = 32'b00000000000000000000000000000000;
        mem[347] = 32'b00000000000000000000000000000000;
        mem[348] = 32'b00000000000000000000000000000000;
        mem[349] = 32'b00000000000000000000000000000000;
        mem[350] = 32'b00000000000000000000000000000000;
        mem[351] = 32'b00000000000000000000000000000000;
        mem[352] = 32'b00000000000000000000000000000000;
        mem[353] = 32'b00000000000000000000000000000000;
        mem[354] = 32'b00000000000000000000000000000000;
        mem[355] = 32'b00000000000000000000000000000000;
        mem[356] = 32'b00000000000000000000000000000000;
        mem[357] = 32'b00000000000000000000000000000000;
        mem[358] = 32'b00000000000000000000000000000000;
        mem[359] = 32'b00000000000000000000000000000000;
        mem[360] = 32'b00000000000000000000000000000000;
        mem[361] = 32'b00000000000000000000000000000000;
        mem[362] = 32'b00000000000000000000000000000000;
        mem[363] = 32'b00000000000000000000000000000000;
        mem[364] = 32'b00000000000000000000000000000000;
        mem[365] = 32'b00000000000000000000000000000000;
        mem[366] = 32'b00000000000000000000000000000000;
        mem[367] = 32'b00000000000000000000000000000000;
        mem[368] = 32'b00000000000000000000000000000000;
        mem[369] = 32'b00000000000000000000000000000000;
        mem[370] = 32'b00000000000000000000000000000000;
        mem[371] = 32'b00000000000000000000000000000000;
        mem[372] = 32'b00000000000000000000000000000000;
        mem[373] = 32'b00000000000000000000000000000000;
        mem[374] = 32'b00000000000000000000000000000000;
        mem[375] = 32'b00000000000000000000000000000000;
        mem[376] = 32'b00000000000000000000000000000000;
        mem[377] = 32'b00000000000000000000000000000000;
        mem[378] = 32'b00000000000000000000000000000000;
        mem[379] = 32'b00000000000000000000000000000000;
        mem[380] = 32'b00000000000000000000000000000000;
        mem[381] = 32'b00000000000000000000000000000000;
        mem[382] = 32'b00000000000000000000000000000000;
        mem[383] = 32'b00000000000000000000000000000000;
        mem[384] = 32'b00000000000000000000000000000000;
        mem[385] = 32'b00000000000000000000000000000000;
        mem[386] = 32'b00000000000000000000000000000000;
        mem[387] = 32'b00000000000000000000000000000000;
        mem[388] = 32'b00000000000000000000000000000000;
        mem[389] = 32'b00000000000000000000000000000000;
        mem[390] = 32'b00000000000000000000000000000000;
        mem[391] = 32'b00000000000000000000000000000000;
        mem[392] = 32'b00000000000000000000000000000000;
        mem[393] = 32'b00000000000000000000000000000000;
        mem[394] = 32'b00000000000000000000000000000000;
        mem[395] = 32'b00000000000000000000000000000000;
        mem[396] = 32'b00000000000000000000000000000000;
        mem[397] = 32'b00000000000000000000000000000000;
        mem[398] = 32'b00000000000000000000000000000000;
        mem[399] = 32'b00000000000000000000000000000000;
   end


   // Split input data
   always @ (d) begin
      for (i=0;i<WRITE_PORT_COUNT;i=i+1) begin
         for (j=0;j<DATA_WIDTH;j=j+1) begin
            dt[j]=d[i*DATA_WIDTH+j];
         end
         di[i]=dt;
      end
   end

   // Split write addresses
   always @ (wa) begin
      for (i=0;i<WRITE_PORT_COUNT;i=i+1) begin
         for (j=0;j<ADDRESS_WIDTH;j=j+1) begin
            wat[j]=wa[i*ADDRESS_WIDTH+j];
         end
         wai[i]=wat;
      end
   end

   // Write memory
   always @ (posedge clk) begin
     for (j=0;j<WRITE_PORT_COUNT;j=j+1) begin
        if (we[j]) begin
           mem[wai[j]] <= di[j];
        end
     end
   end

   // Split read addresses
   always @ (ra) begin
      for (i=0;i<READ_PORT_COUNT;i=i+1) begin
         for (j=0;j<ADDRESS_WIDTH;j=j+1) begin
            rat[j]=ra[i*ADDRESS_WIDTH+j];
         end
         rai[i]=rat;
      end
   end

   // guide read addresses using CE
   always @ (posedge clk) begin
      for (i=0;i<READ_PORT_COUNT;i=i+1) begin
         if ( ce[i] ) begin
            rai_reg[i] <= rai[i];
         end
      end
   end


   // Memory read
    genvar x;
    generate
        for (x = 0; x < READ_PORT_COUNT; x = x + 1) begin : gen_q
            assign q[x*DATA_WIDTH+DATA_WIDTH-1:x*DATA_WIDTH] = (rai_reg[x]<WORD_COUNT)?
                mem[rai_reg[x]] : {DATA_WIDTH{1'b0}};
        end
    endgenerate

endmodule


module SURFdescriptor_DY (
    address0,
    ce0,
    q0,
    we0,
    d0,


    clk);


parameter DataWidth = 32'd32;
parameter AddressRange = 32'd400;
parameter AddressWidth = 32'd9;

input[AddressWidth-1:0] address0;
input ce0;
output[DataWidth-1:0] q0;
input we0;
input[DataWidth-1:0] d0;
input clk;


reg[DataWidth-1:0] q0;
wire[1 * DataWidth - 1:0] mem_q;
wire[DataWidth - 1:0] mem_q0;
wire[1 - 1:0] mem_we;
wire[1 * DataWidth - 1:0] mem_d;
wire[1 * AddressWidth - 1:0] mem_wa;
wire[1 * AddressWidth - 1:0]  mem_ra;
wire[1 - 1:0]  mem_ce;


SURFdescriptor_DY_core #(
    .READ_PORT_COUNT( 1 ),
    .WRITE_PORT_COUNT( 1 ),
    .DATA_WIDTH( DataWidth ),
    .ADDRESS_WIDTH( AddressWidth ),
    .WORD_COUNT( AddressRange ))
core_inst (
    .q( mem_q ),
    .ra( mem_ra ),
    .ce( mem_ce ),
    .d( mem_d ),
    .wa( mem_wa ),
    .we( mem_we ),
    .clk( clk ));


assign mem_q0 =  mem_q[1 * DataWidth - 1 : 0 * DataWidth];

always @ (mem_q0) begin
        q0 = mem_q0;
end

assign mem_ra = {address0};
assign mem_ce = {ce0};

assign mem_we[0] = we0;

assign mem_d = {d0};

assign mem_wa = {address0};

endmodule
